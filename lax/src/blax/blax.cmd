:: 0cf5c1dd36bd27336c8756a535615321149c8c50063bfed06e9b65f9145b7e17
:: QEVDSE8gT0ZGCgo6OiA8PCBDb21waWxlciBUb29sIGludGVuZGVkIGZvciBQYXduIENvZGUuCjo6IENvcHlyaWdodCAoYykgTGF0ZXJpdW0gQ29udHJpYnV0b3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLiA+PgoKc2V0bG9jYWwgRW5hYmxlRGVsYXllZEV4cGFuc2lvbgoKY29sb3IgMEYKCjo6IHZhcmlhYmxlcyB+PgpTRVQgIlNPVVJDRURJUj0lfmRwMCIKU0VUICJOVUxMU1RBVElDPWZhbHNlIgpTRVQgIkxPQ0FMVElUTEU9bnVsbCIKU0VUICJfUEFXTkNDXz1udWxsIgpTRVQgIkxJQl9JTkxPQz1ibGF4LmNtZCIKCjo6IEhIL01NL1NTIGZvcm1hdC4KRk9SIC9mICJ0b2tlbnM9MS00IGRlbGltcz06LiAiICUlQSBpbiAoJ0VDSE8gJXRpbWUlJykgRE8gKAogICAgU0VUIEhIPSUlQQogICAgU0VUIE1NPSUlQgogICAgU0VUIFNTPSUlQwopCgo6OiBiaW5hcnkgY29tYmluYXRpb24uClNFVCAiMHgwMTAwMDAwMT1BIgpTRVQgIjB4MDEwMDAwMTA9QiIKU0VUICIweDAxMDAwMDExPUMiClNFVCAiMHgwMTAwMDEwMD1EIgpTRVQgIjB4MDEwMDAxMDE9RSIKU0VUICIweDAxMDAwMTEwPUYiClNFVCAiMHgwMTAwMDExMT1HIgpTRVQgIjB4MDEwMDEwMDA9SCIKU0VUICIweDAxMDAxMDAxPUkiClNFVCAiMHgwMTAwMTAxMD1KIgpTRVQgIjB4MDEwMDEwMTE9SyIKU0VUICIweDAxMDAxMTAwPUwiClNFVCAiMHgwMTAwMTEwMT1NIgpTRVQgIjB4MDEwMDExMTA9TiIKU0VUICIweDAxMDAxMTExPU8iClNFVCAiMHgwMTAxMDAwMD1QIgpTRVQgIjB4MDEwMTAwMDE9USIKU0VUICIweDAxMDEwMDEwPVIiClNFVCAiMHgwMTAxMDAxMT1TIgpTRVQgIjB4MDEwMTAxMDA9VCIKU0VUICIweDAxMDEwMTAxPVUiClNFVCAiMHgwMTAxMDExMD1WIgpTRVQgIjB4MDEwMTAxMTE9VyIKU0VUICIweDAxMDExMDAwPVgiClNFVCAiMHgwMTAxMTAwMT1ZIgpTRVQgIjB4MDEwMTEwMTA9WiIKOjogbG93ZXIKU0VUICIxeDAxMTAwMDAxPWEiClNFVCAiMXgwMTEwMDAxMD1iIgpTRVQgIjF4MDExMDAwMTE9YyIKU0VUICIxeDAxMTAwMTAwPWQiClNFVCAiMXgwMTEwMDEwMT1lIgpTRVQgIjF4MDExMDAxMTA9ZiIKU0VUICIxeDAxMTAwMTExPWciClNFVCAiMXgwMTEwMTAwMD1oIgpTRVQgIjF4MDExMDEwMDE9aSIKU0VUICIxeDAxMTAxMDEwPWoiClNFVCAiMXgwMTEwMTAxMT1rIgpTRVQgIjF4MDExMDExMDA9bCIKU0VUICIxeDAxMTAxMTAxPW0iClNFVCAiMXgwMTEwMTExMD1uIgpTRVQgIjF4MDExMDExMTE9byIKU0VUICIxeDAxMTEwMDAwPXAiClNFVCAiMXgwMTExMDAwMT1xIgpTRVQgIjF4MDExMTAwMTA9ciIKU0VUICIxeDAxMTEwMDExPXMiClNFVCAiMXgwMTExMDEwMD10IgpTRVQgIjF4MDExMTAxMDE9dSIKU0VUICIxeDAxMTEwMTEwPXYiClNFVCAiMXgwMTExMDExMT13IgpTRVQgIjF4MDExMTEwMDA9eCIKU0VUICIxeDAxMTExMDAxPXkiClNFVCAiMXgwMTExMTAxMD16Igo6OiBpbnRlZ2FyClNFVCAiMngwMDAwMDAwMD0wIgpTRVQgIjJ4MDAwMDAwMDE9MSIKU0VUICIyeDAwMDAwMDEwPTIiClNFVCAiMngwMDAwMDAxMT0zIgpTRVQgIjJ4MDAwMDAxMDA9NCIKU0VUICIyeDAwMDAwMTAxPTUiClNFVCAiMngwMDAwMDExMD02IgpTRVQgIjJ4MDAwMDAxMTE9NyIKU0VUICIyeDAwMDAxMDAwPTgiClNFVCAiMngwMDAwMTAwMT05IgpTRVQgIjJ4MDAwMDEwMTA9MTAiCgpSRU0gICAgICAgICAgICAgPGZpbGVuYW1lPiBbZmlsZW5hbWUuLi5dIFtvcHRpb25dClJFTSAtQTxudW0+ICBhbGlnbm1lbnQgaW4gYnl0ZXMgb2YgdGhlIGRhdGEgc2VnbWVudCBhbmQgdGhlIHN0YWNrClJFTSAtYSAgICAgICBBTVhfTyBhc3NlbWJsZXIgY29kZQpSRU0gLUNbKy8tXSAgY29tcGFjdCBlbmNvZGluZyBmb3IgQU1YX08gZmlsZSAoZGVmYXVsdD0rKQpSRU0gLWM8bmFtZT4gY29kZXBhZ2UgbmFtZSBvciBudW1iZXI7IGUuZy4gMTI1MiBmb3IgV2luZG93cyBMYXRpbi0xClJFTSAtRHBhdGggICBhY3RpdmUgZGlyZWN0b3J5IHBhdGgKUkVNIC1kPG51bT4gIGRlYnVnZ2luZyBsZXZlbCAoZGVmYXVsdD0tZDEpClJFTSAgICAgMCAgICBubyBzeW1ib2xpYyBpbmZvcm1hdGlvbiwgbm8gcnVuLXRpbWUgY2hlY2tzClJFTSAgICAgMSAgICBydW4tdGltZSBjaGVja3MsIG5vIHN5bWJvbGljIGluZm9ybWF0aW9uClJFTSAgICAgMiAgICBmdWxsIGRlYnVnIGluZm9ybWF0aW9uIGFuZCBkeW5hbWljIGNoZWNraW5nClJFTSAgICAgMyAgICBzYW1lIGFzIC1kMiwgYnV0IGltcGxpZXMgLU8wClJFTSAtZTxuYW1lPiBTRVQgbmFtZSBvZiBlcnJvciBmaWxlIChxdWlldCBjb21waWxlKQpSRU0gLUg8aHduZD4gd2luZG93IGhhbmRsZSB0byBzZW5kIGEgbm90aWZpY2F0aW9uIG1lc3NhZ2Ugb24gZmluaXNoClJFTSAtaTxuYW1lPiBwYXRoIGZvciBpbmNsdWRlIGZpbGVzClJFTSAtbCAgICAgICBjcmVhdGUgbGlzdCBmaWxlIChwcmVwcm9jZXNzIG9ubHkpClJFTSAtbzxuYW1lPiBTRVQgYmFzZSBuYW1lIG9mIChQLWNvZGUpIEFNWF9PIGZpbGUKUkVNIC1PPG51bT4gIG9wdGltaXphdGlvbiBsZXZlbCAoZGVmYXVsdD0tTzEpClJFTSAgICAgMCAgICBubyBvcHRpbWl6YXRpb24KUkVNICAgICAxICAgIEpJVC1jb21wYXRpYmxlIG9wdGltaXphdGlvbnMgb25seQpSRU0gICAgIDIgICAgZnVsbCBvcHRpbWl6YXRpb25zClJFTSAtcDxuYW1lPiBTRVQgbmFtZSBvZiAicHJlZml4IiBmaWxlClJFTSAtcltuYW1lXSB3cml0ZSBjcm9zcyByZWZlcmVuY2UgcmVwb3J0IHRvIGNvbnNvbGUgb3IgdG8gc3BlY2lmaWVkIGZpbGUKUkVNIC1TPG51bT4gIHN0YWNrL2hlYXAgc2l6ZSBpbiBjZWxscyAoZGVmYXVsdD00MDk2KQpSRU0gLXM8bnVtPiAgc2tpcCBsaW5lcyBmcm9tIHRoZSBpbnB1dCBmaWxlClJFTSAtdDxudW0+ICBUQUIgaW5kZW50IHNpemUgKGluIGNoYXJhY3RlciBwb3NpdGlvbnMsIGRlZmF1bHQ9OCkKUkVNIC12PG51bT4gIHZlcmJvc2l0eSBsZXZlbDsgMD1xdWlldCwgMT1ub3JtYWwsIDI9dmVyYm9zZSAoZGVmYXVsdD0xKQpSRU0gLXc8bnVtPiAgZGlzYWJsZSBhIHNwZWNpZmljIHdhcm5pbmcgYnkgaXRzIG51bWJlcgpSRU0gLVg8bnVtPiAgYWJzdHJhY3QgbWFjaGluZSBzaXplIGxpbWl0IGluIGJ5dGVzClJFTSAtWEQ8bnVtPiBhYnN0cmFjdCBtYWNoaW5lIGRhdGEvc3RhY2sgc2l6ZSBsaW1pdCBpbiBieXRlcwpSRU0gLVwgICAgICAgdXNlICdcJyBmb3IgZXNjYXBlIGNoYXJhY3RlcnMKUkVNIC1eICAgICAgIHVzZSAnXicgZm9yIGVzY2FwZSBjaGFyYWN0ZXJzClJFTSAtO1srLy1dICByZXF1aXJlIGEgc2VtaWNvbG9uIHRvIGVuZCBlYWNoIHN0YXRlbWVudCAoZGVmYXVsdD0tKQpSRU0gLShbKy8tXSAgcmVxdWlyZSBwYXJhbnRoZXNlcyBmb3IgZnVuY3Rpb24gaW52b2NhdGlvbiAoZGVmYXVsdD0tKQpSRU0gc3ltPXZhbCAgZGVmaW5lIGNvbnN0YW50ICJzeW0iIHdpdGggdmFsdWUgInZhbCIKUkVNIHN5bT0gICAgIGRlZmluZSBjb25zdGFudCAic3ltIiB3aXRoIHZhbHVlIDAKClJFTSBPcHRpb25zIG1heSBzdGFydCB3aXRoIGEgZGFzaCBvciBhIHNsYXNoOyB0aGUgb3B0aW9ucyAiLWQwIiBhbmQgIi9kMCIgYXJlClJFTSBlcXVpdmFsZW50LgoKUkVNIE9wdGlvbnMgd2l0aCBhIHZhbHVlIG1heSBvcHRpb25hbGx5IHNlcGFyYXRlIHRoZSB2YWx1ZSBmcm9tIHRoZSBvcHRpb24gbGV0dGVyClJFTSB3aXRoIGEgY29sb24gKCI6Iikgb3IgYW4gZXF1YWwgc2lnbiAoIj0iKS4gVGhhdCBpcywgdGhlIG9wdGlvbnMgIi1kMCIsICItZD0wIgpSRU0gYW5kICItZDowIiBhcmUgYWxsIGVxdWl2YWxlbnQuCgo6OiBKSVQtY29tcGF0aWJsZSBvcHRpbWl6YXRpb25zClNFVCAiQVNNX09QVElPTl9NPS0hMXgwMTEwMTExMSEiClNFVCAiQVNNX09QVElPTl9QPS0hMHgwMTAwMTExMSEhMngwMDAwMDAwMSEiCgpTRVQgIk1FVEFEQVRfRklMRT1jb21waWxlLmxvZyIKClRJVExFICV1c2VybmFtZSVAJWNvbXB1dGVybmFtZSU6fgoKOkNPTU1BTkRfVFlQRU9GCmZvciAvRiAidG9rZW5zPTEsMiBkZWxpbXM9IyIgJSVhIGluICgnInByb21wdCAjJEgjJEUjICYgZWNobyBvbiAmIGZvciAlJWIgaW4gKDEpIGRvIHJlbSInKSBkbyAoc2V0ICJERUw9JSVhIikKCjxudWwgc2V0IC9wPSIiCmNhbGwgOkNPTE9VUlRFWFQgYSAiJVNPVVJDRURJUiV+IyIKU0VUIC9wIFRZUEVPRj0iICIKCmdvdG8gOmVuZAoKOjogY29sb3VyIGhhbmRsZSBpbiBiYXRjaAo6Q09MT1VSVEVYVAo8bnVsIHNldCAvcCAiPSVERUwlIiA+ICIlfjIiCmZpbmRzdHIgL3YgL2E6JTEgL1IgIisiICIlfjIiIG51bApkZWwgIiV+MiIgPiBudWwKZ290byA6ZW9mCgo6ZW5kCgpTRVQgIk9QVElPTlRZUEVPRj1jYXQiCgpJRiAiJVRZUEVPRiUiPT0iJU9QVElPTlRZUEVPRiUgLWMiICgKICAgIFNFVCAiTE9DQUxUSVRMRT1jb21waWxlcnMiCiAgICBUSVRMRSAldXNlcm5hbWUlQCVjb21wdXRlcm5hbWUlOn4vIUxPQ0FMVElUTEUhCiAgICBFQ0hPLgoKICAgIFNFVCAiTlVMTFNUQVRJQz10cnVlIgogICAgR09UTyBDT01QSUxFUlMKCikgRUxTRSBJRiAiJVRZUEVPRiUiPT0iJU9QVElPTlRZUEVPRiUgLXIiICgKICAgIFNFVCAiTE9DQUxUSVRMRT1ydW5uaW5nIgogICAgVElUTEUgJXVzZXJuYW1lJUAlY29tcHV0ZXJuYW1lJTp+LyFMT0NBTFRJVExFIQoKICAgIFRBU0tLSUxMIC9mIC9pbSAic2FtcC1zZXJ2ZXIuZXhlIiA+bnVsIDI+JjEKCiAgICBHT1RPIFNFUlZFUlMKCikgRUxTRSBJRiAiJVRZUEVPRiUiPT0iJU9QVElPTlRZUEVPRiUgLWNpIiAoCiAgICBTRVQgIkxPQ0FMVElUTEU9Y29tcGlsZSBydW5uaW5nIgogICAgVElUTEUgJXVzZXJuYW1lJUAlY29tcHV0ZXJuYW1lJTp+LyFMT0NBTFRJVExFIQoKICAgIFNFVCAiTlVMTFNUQVRJQz1mYWxzZSIKCiAgICBERUwgIiVTT1VSQ0VESVIlc2VydmVyX2xvZy50eHQiIC9xID5udWwKICAgIAogICAgQ0FMTCA6Q09NUElMRVJTCiAgICBGSU5EU1RSIC9pICJlcnJvciIgJU1FVEFEQVRfRklMRSUgPm51bCAmJiBlY2hvLiB8fCBDQUxMIDpHT19TVEFSVAoKOkdPX1NUQVJUCiAgICBUQVNLS0lMTCAvZiAvaW0gInNhbXAtc2VydmVyLmV4ZSIgPm51bCAyPiYxCiAgICBFQ0hPICMgUHJlc3MgYW55IGtleSB0byBTdGFydCBTZXJ2ZXIncyAuIC4gLgogICAgUEFVU0UgPm51bAoKOlNFUlZFUlMKICAgIFNUQVJUICIiICJzYW1wLXNlcnZlci5leGUiCiAgICBUSU1FT1VUIC90IDIgPm51bAogICAgVEFTS0xJU1QgfCBGSU5EIC9pICJzYW1wLXNlcnZlci5leGUiID5udWwKCiAgICBJRiBub3QgZXhpc3Qgc2FtcC1zZXJ2ZXIuZXhlICgKICAgICAgICBFQ0hPICMgc2FtcC1zZXJ2ZXIuZXhlIG5vdCBmb3VuZC4uCiAgICAgICAgVElNRU9VVCAvdCAxID5udWwKICAgICAgICBTVEFSVCAiIiAiaHR0cHM6Ly9zYS1tcC5hcHAvIgogICAgICAgIEdPVE8gQ09NTUFORF9UWVBFT0YKICAgICkKCiAgICBJRiBFUlJPUkxFVkVMIDEgKAogICAgICAgIEVDSE8uCiAgICAgICAgRUNITyAjIFslSEglOiVNTSU6JVNTJV0gU3RhcnRpbmcuLiBubwogICAgICAgIElGIGV4aXN0ICJzZXJ2ZXJfbG9nLnR4dCIgKAogICAgICAgICAgICBUSU1FT1VUIC90IDIKICAgICAgICAgICAgVFlQRSBzZXJ2ZXJfbG9nLnR4dAogICAgICAgICkgRUxTRSAoCiAgICAgICAgICAgIEVDSE8gIyBzZXJ2ZXJfbG9nLnR4dCBub3QgZm91bmQuCiAgICAgICAgKQogICAgICAgIEVDSE8uCiAgICAgICAgPG51bCBzZXQgL3A9IiIKICAgICAgICAgICAgICAgICAgICBjYWxsIDpDT0xPVVJURVhUIGEgIiMgRW5kLiIKICAgICAgICAgICAgICAgICAgICBlY2hvLgogICAgICAgIEdPVE8gQ09NTUFORF9UWVBFT0YKICAgICkgRUxTRSAoCiAgICAgICAgRUNITyAjIFslSEglOiVNTSU6JVNTJV0gU3RhcnRpbmcuLiBEb25lCgogICAgICAgIEZJTkRTVFIgL2kgImZhaWxlZCIgc2VydmVyX2xvZy50eHQgPm51bCAmJiBDQUxMIDpsYXhfVFJVRSB8fCBDQUxMIDpsYXhfRkFMU0UKCiAgICAgICAgOmxheF9UUlVFCiAgICAgICAgPG51bCBzZXQgL3A9IiIKICAgICAgICAgICAgICAgICAgICBjYWxsIDpDT0xPVVJURVhUIDRYICJ+IgogICAgICAgICAgICAgICAgICAgIGVjaG8gICAgRmFpbGVkPyAuLiBZZXMgLi4gVHJ1ZQogICAgICAgICAgICAgICAgZWNoby4KICAgICAgICBDQUxMIDpGQUlMX1NFUlZFUkxPRwogICAgICAgIAogICAgICAgIEdPVE8gOmVvZgoKICAgICAgICA6bGF4X0ZBTFNFCiAgICAgICAgICAgICAgICA8bnVsIHNldCAvcD0iIgogICAgICAgICAgICAgICAgICAgIGNhbGwgOkNPTE9VUlRFWFQgYSAifiIKICAgICAgICAgICAgICAgICAgICBlY2hvICAgIEZhaWxlZD8gLi4gTm8gLi4gRmFsc2UKICAgICAgICAgICAgICAgIGVjaG8uCiAgICAgICAgR09UTyBFTkRPRkFMTAogICAgKQoKOkZBSUxfU0VSVkVSTE9HCiAgICBUSU1FT1VUIC90IDIKICAgIEVDSE8uCiAgICBGSU5EU1RSIC9pICJmYWlsZWQiIF4+IHNlcnZlcl9sb2cudHh0CiAgICBFQ0hPLgogICAgPG51bCBzZXQgL3A9IiIKICAgICAgICAgICAgY2FsbCA6Q09MT1VSVEVYVCBFNiAiIyBFbmQuIgogICAgICAgICAgICBlY2hvLgogICAgR09UTyBDT01NQU5EX1RZUEVPRgoKKSBFTFNFIElGICIlVFlQRU9GJSI9PSIlT1BUSU9OVFlQRU9GJSAtY2xzIiAoCiAgICA6Q0xFQVJTCiAgICBTRVQgIkxPQ0FMVElUTEU9Y2xlYXIgc2NyZWVuIgogICAgVElUTEUgJXVzZXJuYW1lJUAlY29tcHV0ZXJuYW1lJTp+LyFMT0NBTFRJVExFIQogICAgQ0xTCiAgICBHT1RPIE1BSU5PRkFMTAogICAgR09UTyBDT01NQU5EX1RZUEVPRgoKKSBFTFNFIElGICIlVFlQRU9GJSI9PSIlT1BUSU9OVFlQRU9GJSAtdnNjIiAoCiAgICBTRVQgIkxPQ0FMVElUTEU9dnNjb2RlIHRhc2tzIgogICAgVElUTEUgJXVzZXJuYW1lJUAlY29tcHV0ZXJuYW1lJTp+LyFMT0NBTFRJVExFIQogICAgSUYgZXhpc3QgIi52c2NvZGUiICgKICAgICAgICBFQ0hPICMgWyVISCU6JU1NJTolU1MlXSBBIHN1YmRpcmVjdG9yeSBvciBmaWxlIC52c2NvZGUgYWxyZWFkeSBleGlzdHMuCiAgICAgICAgR09UTyBFTkRPRkFMTAogICAgKQogICAgTUtESVIgIi52c2NvZGUiCiAgICAoCiAgICAgICAgRUNITyB7CiAgICAgICAgRUNITyAgICJ2ZXJzaW9uIjogIjIuMC4wIiwKICAgICAgICBFQ0hPICAgInRhc2tzIjogWwogICAgICAgIEVDSE8gICAgIHsKICAgICAgICBFQ0hPICAgICAgICJsYWJlbCI6ICJSdW4gbGF4IiwKICAgICAgICBFQ0hPICAgICAgICJ0eXBlIjogInNoZWxsIiwKICAgICAgICBFQ0hPICAgICAgICJjb21tYW5kIjogIiR7d29ya3NwYWNlRm9sZGVyfS8lTElCX0lOTE9DJSIsCiAgICAgICAgRUNITyAgICAgICAiZ3JvdXAiOiB7CiAgICAgICAgRUNITyAgICAgICAgICAgImtpbmQiOiAiYnVpbGQiLAogICAgICAgIEVDSE8gICAgICAgICAgICJpc0RlZmF1bHQiOiB0cnVlCiAgICAgICAgRUNITyAgICAgICB9LAogICAgICAgIEVDSE8gICAgICAgInByb2JsZW1NYXRjaGVyIjogW10sCiAgICAgICAgRUNITyAgICAgICAiZGV0YWlsIjogIlRhc2sgdG8gcnVuIHRoZSBiYXRjaCBmaWxlIgogICAgICAgIEVDSE8gICAgIH0KICAgICAgICBFQ0hPICAgXQogICAgICAgIEVDSE8gfQogICAgKSA+ICIudnNjb2RlXHRhc2tzLmpzb24iCiAgICBFQ0hPICMgWyVISCU6JU1NJTolU1MlXSBDcmVhdGluZyAnLnZzY29kZVx0YXNrcy5qc29uJy4uLjogW3llc10KICAgIFNUQVJUIGV4cGxvcmVyICIudnNjb2RlXCIKICAgIEdPVE8gRU5ET0ZBTEwKCikgIEVMU0UgSUYgIiVUWVBFT0YlIj09IiVPUFRJT05UWVBFT0YlIC1kZyIgKAogICAgU0VUICJMT0NBTFRJVExFPWNyZWF0ZSBzaW1wbGUgcGFjayIKICAgIFRJVExFICV1c2VybmFtZSVAJWNvbXB1dGVybmFtZSU6fi8hTE9DQUxUSVRMRSEKCiAgICBJRiBleGlzdCBmaWx0ZXJzY3JpcHRzICgKICAgICAgICBlY2hvLgogICAgICAgIDxudWwgc2V0IC9wPSIiCiAgICAgICAgICAgIGNhbGwgOkNPTE9VUlRFWFQgYSAiIyBmaWx0ZXJzY3JpcHRzIGlzIC4uIE9rIC4uIgogICAgICAgICAgICBlY2hvICBbQSBzdWJkaXJlY3Rvcnkgb3IgZmlsZSBzZXJ2ZXIuY2ZnIGFscmVhZHkgZXhpc3RzLl0KICAgICAgICAgICAgZWNobyAtCiAgICAgICAgdGltZW91dCAvdCAyID5udWwKICAgICkgZWxzZSAoCiAgICAgICAgbWtkaXIgZmlsdGVyc2NyaXB0cwogICAgICAgIEVDSE8gIyBbJUhIJTolTU0lOiVTUyVdIENyZWF0aW5nICclU09VUkNFRElSJWZpbHRlcnNjcmlwdHMnLi4uOiBbeWVzXQogICAgICAgIHRpbWVvdXQgL3QgMiA+bnVsCiAgICApCiAgICBJRiBleGlzdCBnYW1lbW9kZXMgKAogICAgICAgIDxudWwgc2V0IC9wPSIiCiAgICAgICAgICAgIGNhbGwgOkNPTE9VUlRFWFQgYSAiIyBnYW1lbW9kZXMgaXMgLi4gT2sgLi4iCiAgICAgICAgICAgIGVjaG8gIFtBIHN1YmRpcmVjdG9yeSBvciBmaWxlIHNlcnZlci5jZmcgYWxyZWFkeSBleGlzdHMuXQogICAgICAgICAgICBlY2hvIC0KICAgICAgICB0aW1lb3V0IC90IDIgPm51bAogICAgKSBlbHNlICgKICAgICAgICBzZXRsb2NhbCBFbmFibGVEZWxheWVkRXhwYW5zaW9uCiAgICAgICAgbWtkaXIgZ2FtZW1vZGVzCiAgICAgICAgCiAgICAgICAgKAogICAgICAgICAgICBFQ0hPICNpbmNsdWRlIF48YV9zYW1wXj4KICAgICAgICAgICAgRUNITy4KICAgICAgICAgICAgRUNITyBtYWluXiheKSB7CiAgICAgICAgICAgIEVDSE8gICAgIHByaW50ZiAiSGVsbG8sIFdvcmxkISI7CiAgICAgICAgICAgIEVDSE8gfQogICAgICAgICkgPiAiZ2FtZW1vZGVzXG1haW4ubGF4LnB3biIKICAgICAgICBlbmRsb2NhbAogICAgICAgIGVjaG8uCiAgICAgICAgRUNITyAjIFslSEglOiVNTSU6JVNTJV0gQ3JlYXRpbmcgJyVTT1VSQ0VESVIlZ2FtZW1vZGVzJy4uLjogW3llc10KICAgICAgICBlY2hvLgogICAgICAgIHRpbWVvdXQgL3QgMiA+bnVsCiAgICApCiAgICBJRiBleGlzdCBzY3JpcHRmaWxlcyAoCiAgICAgICAgPG51bCBzZXQgL3A9IiIKICAgICAgICAgICAgY2FsbCA6Q09MT1VSVEVYVCBhICIjIHNjcmlwdGZpbGVzIGlzIC4uIE9rIC4uIgogICAgICAgICAgICBlY2hvICBbQSBzdWJkaXJlY3Rvcnkgb3IgZmlsZSBzZXJ2ZXIuY2ZnIGFscmVhZHkgZXhpc3RzLl0KICAgICAgICAgICAgZWNobyAtCiAgICAgICAgdGltZW91dCAvdCAyID5udWwKICAgICkgZWxzZSAoCiAgICAgICAgbWtkaXIgc2NyaXB0ZmlsZXMKICAgICAgICBFQ0hPICMgWyVISCU6JU1NJTolU1MlXSBDcmVhdGluZyAnJVNPVVJDRURJUiVzY3JpcHRmaWxlcycuLi46IFt5ZXNdCiAgICAgICAgdGltZW91dCAvdCAyID5udWwKICAgICkKICAgIElGIGV4aXN0IHNlcnZlci1yZWFkbWUudHh0ICgKICAgICAgICA8bnVsIHNldCAvcD0iIgogICAgICAgICAgICBjYWxsIDpDT0xPVVJURVhUIGEgIiMgc2VydmVyIHJlYWRtZSBpcyAuLiBPayAuLiIKICAgICAgICAgICAgZWNobyAgW0Egc3ViZGlyZWN0b3J5IG9yIGZpbGUgc2VydmVyLmNmZyBhbHJlYWR5IGV4aXN0cy5dCiAgICAgICAgICAgIGVjaG8gLQogICAgICAgIHRpbWVvdXQgL3QgMiA+bnVsCiAgICApIGVsc2UgKAogICAgICAgICgKICAgICAgICAgICAgRUNITyBTQS1NUCAwLjMgU2VydmVyIFNldHVwCiAgICAgICAgICAgIEVDSE8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPIE9uY2UgdGhlIGNvbmZpZ3VyYXRpb24gaXMgY29tcGxldGUsIHJ1biBzYW1wLXNlcnZlci5leGUgdG8KICAgICAgICAgICAgRUNITyBsYXVuY2ggdGhlIHNlcnZlciBwcm9jZXNzLgogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPIENPTkZJR1VSQVRJT046CiAgICAgICAgICAgIEVDSE8uCiAgICAgICAgICAgIEVDSE8gRXhhbXBsZSBzZXJ2ZXIuY2ZnOgogICAgICAgICAgICBFQ0hPICAgICBlY2hvIEV4ZWN1dGluZyBTZXJ2ZXIgQ29uZmlnLi4uCiAgICAgICAgICAgIEVDSE8gICAgIG1heHBsYXllcnMgMzIKICAgICAgICAgICAgRUNITyAgICAgcG9ydCA3Nzc3CiAgICAgICAgICAgIEVDSE8gICAgIGhvc3RuYW1lIFVubmFtZWQgU2VydmVyCiAgICAgICAgICAgIEVDSE8gICAgIGFubm91bmNlIDAKICAgICAgICAgICAgRUNITyAgICAgZ2FtZW1vZGUwIGx2ZG0gMQogICAgICAgICAgICBFQ0hPICAgICBnYW1lbW9kZTEgcml2ZXJzaGVsbCAxCiAgICAgICAgICAgIEVDSE8gICAgIHdlYnVybCB3d3cuc2EtbXAuY29tCiAgICAgICAgICAgIEVDSE8gICAgIHJjb25fcGFzc3dvcmQgbXlwYXNzd29yZAogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPIFRvIGNvbmZpZ3VyZSB0aGUgc2VydmVyLCB5b3UgbXVzdCBlZGl0IHRoZSB2YWx1ZXMgaW4gc2VydmVyLmNmZy4gVGhleSBhcmUgZXhwbGFpbmVkIGJlbG93OgogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPIGhvc3RuYW1lCiAgICAgICAgICAgIEVDSE8gLS0tLS0tLS0KICAgICAgICAgICAgRUNITyAgICAgUGFyYW1ldGVyczoKICAgICAgICAgICAgRUNITyAgICAgICAgIHN0cmluZwogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPICAgICBEZXNjcmlwdGlvbjoKICAgICAgICAgICAgRUNITyAgICAgICAgIFNwZWNpZmllcyB0aGUgaG9zdG5hbWUgc2hvd24gaW4gdGhlIHNlcnZlciBicm93c2VyCiAgICAgICAgICAgIEVDSE8uCiAgICAgICAgICAgIEVDSE8gcG9ydAogICAgICAgICAgICBFQ0hPIC0tLS0KICAgICAgICAgICAgRUNITyAgICAgUGFyYW1ldGVyczoKICAgICAgICAgICAgRUNITyAgICAgICAgIGludAogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPICAgICBEZXNjcmlwdGlvbjoKICAgICAgICAgICAgRUNITyAgICAgICAgIFNwZWNpZmllcyB0aGUgcG9ydCB0byBsaXN0ZW4gb24uCiAgICAgICAgICAgIEVDSE8gICAgICAgICBUaGlzIHBvcnQgaXMgdXNlZCBmb3IgZ2FtZSBjb25uZWN0aW9ucywgcmNvbiBjb25uZWN0aW9ucywgYW5kIGZvciBxdWVyeWluZy4KICAgICAgICAgICAgRUNITy4KICAgICAgICAgICAgRUNITyBtYXhwbGF5ZXJzCiAgICAgICAgICAgIEVDSE8gLS0tLS0tLS0tLQogICAgICAgICAgICBFQ0hPICAgICBQYXJhbWV0ZXJzOgogICAgICAgICAgICBFQ0hPICAgICAgICAgaW50CiAgICAgICAgICAgIEVDSE8uCiAgICAgICAgICAgIEVDSE8gICAgIERlc2NyaXB0aW9uOgogICAgICAgICAgICBFQ0hPICAgICAgICAgU3BlY2lmaWVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBwbGF5ZXJzLgogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPIGFubm91bmNlCiAgICAgICAgICAgIEVDSE8gLS0tLS0tLQogICAgICAgICAgICBFQ0hPICAgICBQYXJhbWV0ZXJzOgogICAgICAgICAgICBFQ0hPICAgICAgICAgaW50IF4oMCBvciAxXikKICAgICAgICAgICAgRUNITy4KICAgICAgICAgICAgRUNITyAgICAgRGVzY3JpcHRpb246CiAgICAgICAgICAgIEVDSE8gICAgICAgICBBbm5vdW5jZXMgeW91ciBzZXJ2ZXIgdG8gdGhlICdJbnRlcm5ldCcgc2VydmVyIGxpc3QgaW4gdGhlIFNBOk1QIGJyb3dzZXIuIE9uIF4oMV4pIG9yIE9mZiBeKDBeKS4KICAgICAgICAgICAgRUNITy4KICAgICAgICAgICAgRUNITyB3ZWJ1cmwKICAgICAgICAgICAgRUNITyAtLS0tLS0KICAgICAgICAgICAgRUNITyAgICAgUGFyYW1ldGVyczoKICAgICAgICAgICAgRUNITyAgICAgICAgIHN0cmluZwogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPICAgICBEZXNjcmlwdGlvbjoKICAgICAgICAgICAgRUNITyAgICAgICAgIFNwZWNpZmllcyB0aGUgVVJMIHNob3duIGluIHRoZSBzZXJ2ZXIgYnJvd3Nlciwgd2hpY2ggaXMgYXNzb2NpYXRlZCB0byB0aGUgc2VydmVyLgogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPIHJjb25fcGFzc3dvcmQKICAgICAgICAgICAgRUNITyAtLS0tLS0tLS0tLS0tCiAgICAgICAgICAgIEVDSE8gICAgIFBhcmFtZXRlcnM6CiAgICAgICAgICAgIEVDSE8gICAgICAgICBzdHJpbmcKICAgICAgICAgICAgRUNITy4KICAgICAgICAgICAgRUNITyAgICAgRGVzY3JpcHRpb246CiAgICAgICAgICAgIEVDSE8gICAgICAgICBTcGVjaWZpZXMgdGhlIHBhc3N3b3JkIG5lZWRlZCB0byBjb25uZWN0IHRvIHJjb24sIG9yIGxvZ2luIHRvIHJjb24gaW5nYW1lLgogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPIGdhbWVtb2RlMCAtIGdhbWVtb2RlMTUKICAgICAgICAgICAgRUNITyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICAgIEVDSE8gICAgIFBhcmFtZXRlcnM6CiAgICAgICAgICAgIEVDSE8gICAgICAgICBzdHJpbmcKICAgICAgICAgICAgRUNITyAgICAgICAgIGludAogICAgICAgICAgICBFQ0hPLgogICAgICAgICAgICBFQ0hPICAgICBEZXNjcmlwdGlvbjoKICAgICAgICAgICAgRUNITyAgICAgICAgIFNwZWNpZmllcyB0aGUgcm90YXRpb24gc2V0dGluZ3MuIFRoZSBmaXJzdCBwYXJhbWV0ZXIgc2V0cyB0aGUgZ2FtZSBtb2RlIG5hbWUuIFRoZSBzZWNvbmQgaXMgdGhlIG51bWJlciBvZiB0aW1lcyBpdCB3aWxsIHJlcGVhdC4KICAgICAgICAgICAgRUNITyAgICAgICAgIFlvdSBjYW4gdXNlIGdhbWVtb2RlMCB0byBzcGVjaWZ5IHRoZSBmaXJzdCBnYW1lbW9kZSwgZ2FtZW1vZGUxIHRvIHNwZWNpZnkgdGhlIHNlY29uZCwgZXRjLgogICAgICAgICkgPiAic2VydmVyLXJlYWRtZS50eHQiCiAgICAgICAgZWNoby4KICAgICAgICBFQ0hPICMgWyVISCU6JU1NJTolU1MlXSBDcmVhdGluZyAnJVNPVVJDRURJUiVzZXJ2ZXItcmVhZG1lLnR4dCcuLi46IFt5ZXNdCiAgICAgICAgZWNoby4KICAgICkKICAgIElGIGV4aXN0IHNlcnZlci5jZmcgKAogICAgICAgIDxudWwgc2V0IC9wPSIiCiAgICAgICAgICAgIGNhbGwgOkNPTE9VUlRFWFQgYSAiIyBzZXJ2ZXIuY2ZnIGlzIC4uIE9rIC4uIgogICAgICAgICAgICBlY2hvICBbQSBzdWJkaXJlY3Rvcnkgb3IgZmlsZSBzZXJ2ZXIuY2ZnIGFscmVhZHkgZXhpc3RzLl0KICAgICAgICAgICAgZWNoby4KICAgICkgZWxzZSAoCiAgICAgICAgKAogICAgICAgICAgICBFQ0hPIGVjaG8gRXhlY3V0aW5nIFNlcnZlciBDb25maWcuLi4KICAgICAgICAgICAgRUNITyBsYW5tb2RlIDAKICAgICAgICAgICAgRUNITyByY29uX3Bhc3N3b3JkIGNoYW5nZW5hbWUKICAgICAgICAgICAgRUNITyBtYXhwbGF5ZXJzIDE1MAogICAgICAgICAgICBFQ0hPIHBvcnQgNzc3NwogICAgICAgICAgICBFQ0hPIGhvc3RuYW1lIFNBLU1QIDAuMyBeKExheF4pCiAgICAgICAgICAgIEVDSE8gZ2FtZW1vZGUwIG1haW4gMQogICAgICAgICAgICBFQ0hPIGZpbHRlcnNjcmlwdHMgCiAgICAgICAgICAgIEVDSE8gYW5ub3VuY2UgMAogICAgICAgICAgICBFQ0hPIGNoYXRsb2dnaW5nIDAKICAgICAgICAgICAgRUNITyB3ZWJ1cmwgd3d3LnNhLW1wLmNvbQogICAgICAgICAgICBFQ0hPIG9uZm9vdF9yYXRlIDQwCiAgICAgICAgICAgIEVDSE8gaW5jYXJfcmF0ZSA0MAogICAgICAgICAgICBFQ0hPIHdlYXBvbl9yYXRlIDQwCiAgICAgICAgICAgIEVDSE8gc3RyZWFtX2Rpc3RhbmNlIDMwMC4wCiAgICAgICAgICAgIEVDSE8gc3RyZWFtX3JhdGUgMTAwMAogICAgICAgICAgICBFQ0hPIG1heG5wYyAwCiAgICAgICAgICAgIEVDSE8gbG9ndGltZWZvcm1hdCBbJUg6JU06JVNdCiAgICAgICAgICAgIEVDSE8gbGFuZ3VhZ2UgRW5nbGlzaAogICAgICAgICkgPiAic2VydmVyLmNmZyIKICAgICAgICBFQ0hPICMgWyVISCU6JU1NJTolU1MlXSBDcmVhdGluZyAnJVNPVVJDRURJUiVzZXJ2ZXIuY2ZnJy4uLjogW3llc10KICAgICAgICBlY2hvLgogICAgICAgIHR5cGUgc2VydmVyLmNmZwogICAgICAgIGdvdG8gRU5ET0ZBTEwKICAgICkKKSBFTFNFIElGICIlVFlQRU9GJSI9PSIlT1BUSU9OVFlQRU9GJSAtZ2l0YyIgKAogICAgU0VUICJMT0NBTFRJVExFPWdpdCBjbG9uZSIKICAgIFRJVExFICV1c2VybmFtZSVAJWNvbXB1dGVybmFtZSU6fi8hTE9DQUxUSVRMRSEKCiAgICBzZXQgL3AgVVJMPSIjIFslSEglOiVNTSU6JVNTJV0gRW50ZXIgUmVwbyBVUkw6ICIKICAgIGlmICIhVVJMISI9PSIiICgKICAgICAgICA8bnVsIHNldCAvcD0iIgogICAgICAgICAgICBjYWxsIDpDT0xPVVJURVhUIDRYICJbI11+IgogICAgICAgICAgICBlY2hvIEVSUj8gLi4gWWVzIC4uIFVybCBSZXF1aXJlZC4uCiAgICAgICAgICAgIGVjaG8uCiAgICApIGVsc2UgKAogICAgICAgIGVjaG8gIyBDbG9uaW5nIHJlcG9zaXRvcnkgZnJvbSAhVVJMIQogICAgICAgIGdpdCBjbG9uZSAhVVJMIQogICAgKQopIEVMU0UgSUYgIiVUWVBFT0YlIj09IiVPUFRJT05UWVBFT0YlIC1sYXgiICgKICAgIFNUQVJUICIiICJodHRwczovL2dpdGh1Yi5jb20vbGF0ZXJpdW0vbGF4LWNvZGUiCikgRUxTRSBJRiAiJVRZUEVPRiUiPT0iJU9QVElPTlRZUEVPRiUgLXBjYyIgKAogICAgU1RBUlQgIiIgImh0dHBzOi8vZ2l0aHViLmNvbS9wYXduLWxhbmcvY29tcGlsZXIvcmVsZWFzZXMiCikgRUxTRSBJRiAiJVRZUEVPRiUiPT0iJU9QVElPTlRZUEVPRiUgLW1wZyIgKAogICAgU1RBUlQgIiIgImh0dHBzOi8vc2EtbXAuYXBwLyIKKSBFTFNFIElGICIlVFlQRU9GJSI9PSIlT1BUSU9OVFlQRU9GJSAtaW5jIiAoCiAgICBTVEFSVCAiIiAiaHR0cHM6Ly9naXRodWIuY29tL2xhdGVyaXVtL2xheC1jb2RlL2Jsb2IvbWFpbi9pbmNsdWRlL2FfYWRkb24uaW5jIgopIEVMU0UgSUYgIiVUWVBFT0YlIj09IiVPUFRJT05UWVBFT0YlIC1kbGF4IiAoCiAgICBTVEFSVCAiIiAiaHR0cHM6Ly9kc2MuZ2cvZXZlcmNvb2wvIgopIEVMU0UgSUYgIiVUWVBFT0YlIj09ImhlbHAiICgKICAgIFNFVCAiTE9DQUxUSVRMRT1oZWxwIgogICAgVElUTEUgJXVzZXJuYW1lJUAlY29tcHV0ZXJuYW1lJTp+LyFMT0NBTFRJVExFIQogICAgCiAgICA6X0hFTFAKICAgIEVDSE8gdXNhZ2U6IGNhdCBbLWMgY29tcGlsZV0gWy1yIHJ1bm5pbmcgc2VydmVyXSBbLWNpIGNvbXBpbGUtcnVubmluZ10gWy12c2MgdnNjb2RlIHRhc2tzXQogICAgRUNITyAgICAgICBbLWRnIGNyZWF0ZSBnYW1lbW9kZSBwYWNrIF4mIGRlYnVnZ2luZyBnYW1lbW9kZV0gWy1jbHMgY2xlYXIgc2NyZWVuXSBbLWdpdGMgZ2l0IGNsb25lXSBbLWluYyBsYXggaW5jbHVkZStdCiAgICBFQ0hPICAgICAgIFstbGF4IGxheCBkZXZlbG9wbWVudF0gWy1wY2MgcGF3bmNjIHJlbGVhc2VdIFstbXBnIGdhbWVtb2RlIGRvd25sb2FkXQogICAgRUNITyAgICAgICBbLWRsYXggZGlzY29yZCBsYXggZGV2ZWxvcG1lbnQgc3VwcG9ydF0KICAgIEdPVE8gQ09NTUFORF9UWVBFT0YKCikgRUxTRSBJRiAiJVRZUEVPRiUiPT0iY2F0IiAoCiAgICBTRVQgIkxPQ0FMVElUTEU9Y2F0IgogICAgVElUTEUgJXVzZXJuYW1lJUAlY29tcHV0ZXJuYW1lJTp+LyFMT0NBTFRJVExFIQogICAgR09UTyBfSEVMUAopIEVMU0UgSUYgIiVUWVBFT0YlIj09IiIgKAogICAgR09UTyBDT01NQU5EX1RZUEVPRgopIEVMU0UgSUYgIiVUWVBFT0YlIj09IiAiICgKICAgIEdPVE8gQ09NTUFORF9UWVBFT0YKKSBFTFNFIElGICIlVFlQRU9GJSI9PSIlT1BUSU9OVFlQRU9GJSAiICgKICAgIEdPVE8gX0hFTFAKKSBFTFNFICgKICAgIGVjaG8gJyFUWVBFT0YhJyBpcyBub3QgcmVjb2duaXplZCBhcyBhbiBpbnRlcm5hbCBvciBleHRlcm5hbCBjb21tYW5kLAogICAgZWNobyBvcGVyYWJsZSBwcm9ncmFtIG9yIGJhdGNoIGZpbGUuCiAgICBlY2hvLgogICAgZ290byBfSEVMUAogICAgR09UTyBDT01NQU5EX1RZUEVPRgopCgo6RU5ET0ZBTEwKRUNITyAjIFByZXNzIGFueSBrZXkgdG8gcmV0dXJuIC4gLiAuClBBVVNFID5udWwKR09UTyBDT01NQU5EX1RZUEVPRgoKOkNPTVBJTEVSUwogICAgRUNITyAjIFN0YXJ0aW5nIGF0ICV0aW1lJSAuLi4KICAgIEZPUiAvciAiJVNPVVJDRURJUiUiICUlUCBpbiAocGF3bmNjLmV4ZSkgRE8gKAogICAgICAgIElGIEVYSVNUICIlJVAiICgKICAgICAgICAgICAgU0VUICJfUEFXTkNDXz0lJVAiCiAgICAgICAgICAgIEdPVE8gUEFXTkNDCiAgICAgICAgKQogICAgKQogICAgOlBBV05DQwogICAgSUYgbm90IERFRklORUQgX1BBV05DQ18gKAogICAgICAgIEVDSE8uCiAgICAgICAgICAgIEVDSE8gIyBbJUhIJTolTU0lOiVTUyVdIHBhd25jYyBub3QgZm91bmQgaW4gYW55IHN1YmRpcmVjdG9yaWVzLgogICAgICAgIEVDSE8uCiAgICAgICAgVElNRU9VVCAvdCAxID5udWwKICAgICAgICBTVEFSVCAiIiAiaHR0cHM6Ly9naXRodWIuY29tL3Bhd24tbGFuZy9jb21waWxlci9yZWxlYXNlcyIKICAgICAgICBHT1RPIENPTU1BTkRfVFlQRU9GCiAgICApCiAgICBTRVQgIlNPVVJDRUZJTEU9ZmFsc2UiCiAgICBGT1IgL3IgIiVTT1VSQ0VESVIlIiAlJUYgaW4gKCoubGF4KikgRE8gKAogICAgSUYgRVhJU1QgIiUlRiIgKAogICAgICAgIFNFVCAiU09VUkNFRklMRT10cnVlIgogICAgICAgIAogICAgICAgIEVDSE8gKl4oJSVGXikKICAgICAgICBFQ0hPLgogICAgICAgIAogICAgICAgIFNFVCAiQU1YX089JSV+ZHBuRiIKICAgICAgICBTRVQgIkFNWF9PPSFBTVhfTzoubGF4PSElLmFteCIKCiAgICAgICAgIiFfUEFXTkNDXyEiICIlJUYiICVBU01fT1BUSU9OX00lIiFBTVhfTyEiICVBU01fT1BUSU9OX1AlID4gJU1FVEFEQVRfRklMRSUgMj4mMQogICAgICAgIFRZUEUgJU1FVEFEQVRfRklMRSUKCiAgICAgICAgSUYgRVhJU1QgIiFBTVhfTyEiICgKICAgICAgICAgICAgRk9SICUlQSBJTiAoIiFBTVhfTyEiKSBETyAoCiAgICAgICAgICAgICAgICA8bnVsIHNldCAvcD0iIgogICAgICAgICAgICAgICAgY2FsbCA6Q09MT1VSVEVYVCBhICJbI11+IgogICAgICAgICAgICAgICAgZWNobyBDb21waWxhdGlvbiBmaW5pc2hlZCBhdCAldGltZSUuLgogICAgICAgICAgICAgICAgY2FsbCA6Q09MT1VSVEVYVCBhICJbI11+IgogICAgICAgICAgICAgICAgZWNobyBUb3RhbCBTaXplIFslJX56QSAvIGJ5dGVzXSBefCAiIUFNWF9PISIgXnwgIiVBU01fT1BUSU9OX00lICVBU01fT1BUSU9OX1AlIiAKICAgICAgICAgICAgKQogICAgICAgICkgRUxTRSAoCiAgICAgICAgICAgICAgICBzZXRsb2NhbCBEaXNhYmxlRGVsYXllZEV4cGFuc2lvbiAKICAgICAgICAgICAgICAgIDxudWwgc2V0IC9wPSIiCiAgICAgICAgICAgICAgICAgICAgY2FsbCA6Q09MT1VSVEVYVCA0WCAiWyNdfiIKICAgICAgICAgICAgICAgICAgICBlY2hvIENvbXBpbGF0aW9uIGZhaWxlZCEuIEVSUj8gLi4gWWVzCiAgICAgICAgICAgICAgICAgICAgZW5kbG9jYWwKICAgICAgICAgICAgICAgICAgICBJRiAiJU5VTExTVEFUSUMlIj09ImZhbHNlIiAoCiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gRU5ET0ZBTEwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlY2hvLgogICAgICAgICAgICApCiAgICAgICAgICAgIEVDSE8uCiAgICAgICAgKQogICAgKQogICAgSUYgbm90ICIlU09VUkNFRklMRSUiPT0idHJ1ZSIgKAogICAgICAgc2V0bG9jYWwgRGlzYWJsZURlbGF5ZWRFeHBhbnNpb24gCiAgICAgICAgPG51bCBzZXQgL3A9IiIKICAgICAgICAgICAgICAgIGNhbGwgOkNPTE9VUlRFWFQgNFggIlsjXX4iCiAgICAgICAgICAgICAgICBlY2hvIENvbXBpbGF0aW9uIGZhaWxlZCEuCiAgICAgICAgZW5kbG9jYWwKICAgICAgICBFQ0hPICAgIH4gIiFTT1VSQ0VESVIhLmxheCIgbm8gZmlsZXMgZm91bmQuCiAgICApCiAgICBJRiAiJU5VTExTVEFUSUMlIj09InRydWUiICgKICAgICAgICBHT1RPIEVORE9GQUxMCiAgICApCg==
@ECHO OFF

:: << Compiler Tool intended for Pawn Code.
:: Copyright (c) Laterium Contributors. All Rights Reserved. >>

setlocal EnableDelayedExpansion

color 0F

:: variables ~>
SET "SOURCEDIR=%~dp0"
SET "NULLSTATIC=false"
SET "LOCALTITLE=null"
SET "_PAWNCC_=null"
SET "LIB_INLOC=blax.cmd"

:: HH/MM/SS format.
FOR /f "tokens=1-4 delims=:. " %%A in ('ECHO %time%') DO (
    SET HH=%%A
    SET MM=%%B
    SET SS=%%C
)

:: binary combination.
SET "0x01000001=A"
SET "0x01000010=B"
SET "0x01000011=C"
SET "0x01000100=D"
SET "0x01000101=E"
SET "0x01000110=F"
SET "0x01000111=G"
SET "0x01001000=H"
SET "0x01001001=I"
SET "0x01001010=J"
SET "0x01001011=K"
SET "0x01001100=L"
SET "0x01001101=M"
SET "0x01001110=N"
SET "0x01001111=O"
SET "0x01010000=P"
SET "0x01010001=Q"
SET "0x01010010=R"
SET "0x01010011=S"
SET "0x01010100=T"
SET "0x01010101=U"
SET "0x01010110=V"
SET "0x01010111=W"
SET "0x01011000=X"
SET "0x01011001=Y"
SET "0x01011010=Z"
:: lower
SET "1x01100001=a"
SET "1x01100010=b"
SET "1x01100011=c"
SET "1x01100100=d"
SET "1x01100101=e"
SET "1x01100110=f"
SET "1x01100111=g"
SET "1x01101000=h"
SET "1x01101001=i"
SET "1x01101010=j"
SET "1x01101011=k"
SET "1x01101100=l"
SET "1x01101101=m"
SET "1x01101110=n"
SET "1x01101111=o"
SET "1x01110000=p"
SET "1x01110001=q"
SET "1x01110010=r"
SET "1x01110011=s"
SET "1x01110100=t"
SET "1x01110101=u"
SET "1x01110110=v"
SET "1x01110111=w"
SET "1x01111000=x"
SET "1x01111001=y"
SET "1x01111010=z"
:: integar
SET "2x00000000=0"
SET "2x00000001=1"
SET "2x00000010=2"
SET "2x00000011=3"
SET "2x00000100=4"
SET "2x00000101=5"
SET "2x00000110=6"
SET "2x00000111=7"
SET "2x00001000=8"
SET "2x00001001=9"
SET "2x00001010=10"

REM             <filename> [filename...] [option]
REM -A<num>  alignment in bytes of the data segment and the stack
REM -a       AMX_O assembler code
REM -C[+/-]  compact encoding for AMX_O file (default=+)
REM -c<name> codepage name or number; e.g. 1252 for Windows Latin-1
REM -Dpath   active directory path
REM -d<num>  debugging level (default=-d1)
REM     0    no symbolic information, no run-time checks
REM     1    run-time checks, no symbolic information
REM     2    full debug information and dynamic checking
REM     3    same as -d2, but implies -O0
REM -e<name> SET name of error file (quiet compile)
REM -H<hwnd> window handle to send a notification message on finish
REM -i<name> path for include files
REM -l       create list file (preprocess only)
REM -o<name> SET base name of (P-code) AMX_O file
REM -O<num>  optimization level (default=-O1)
REM     0    no optimization
REM     1    JIT-compatible optimizations only
REM     2    full optimizations
REM -p<name> SET name of "prefix" file
REM -r[name] write cross reference report to console or to specified file
REM -S<num>  stack/heap size in cells (default=4096)
REM -s<num>  skip lines from the input file
REM -t<num>  TAB indent size (in character positions, default=8)
REM -v<num>  verbosity level; 0=quiet, 1=normal, 2=verbose (default=1)
REM -w<num>  disable a specific warning by its number
REM -X<num>  abstract machine size limit in bytes
REM -XD<num> abstract machine data/stack size limit in bytes
REM -\       use '\' for escape characters
REM -^       use '^' for escape characters
REM -;[+/-]  require a semicolon to end each statement (default=-)
REM -([+/-]  require parantheses for function invocation (default=-)
REM sym=val  define constant "sym" with value "val"
REM sym=     define constant "sym" with value 0

REM Options may start with a dash or a slash; the options "-d0" and "/d0" are
REM equivalent.

REM Options with a value may optionally separate the value from the option letter
REM with a colon (":") or an equal sign ("="). That is, the options "-d0", "-d=0"
REM and "-d:0" are all equivalent.

:: JIT-compatible optimizations
SET "ASM_OPTION_M=-!1x01101111!"
SET "ASM_OPTION_P=-!0x01001111!!2x00000001!"

SET "METADAT_FILE=compile.log"

TITLE %username%@%computername%:~

:COMMAND_TYPEOF
for /F "tokens=1,2 delims=#" %%a in ('"prompt #$H#$E# & echo on & for %%b in (1) do rem"') do (set "DEL=%%a")

<nul set /p=""
call :COLOURTEXT a "%SOURCEDIR%~#"
SET /p TYPEOF=" "

goto :end

:: colour handle in batch
:COLOURTEXT
<nul set /p "=%DEL%" > "%~2"
findstr /v /a:%1 /R "+" "%~2" nul
del "%~2" > nul
goto :eof

:end

SET "OPTIONTYPEOF=cat"

IF "%TYPEOF%"=="%OPTIONTYPEOF% -c" (
    SET "LOCALTITLE=compilers"
    TITLE %username%@%computername%:~/!LOCALTITLE!
    ECHO.

    SET "NULLSTATIC=true"
    GOTO COMPILERS

) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -r" (
    SET "LOCALTITLE=running"
    TITLE %username%@%computername%:~/!LOCALTITLE!

    TASKKILL /f /im "samp-server.exe" >nul 2>&1

    GOTO SERVERS

) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -ci" (
    SET "LOCALTITLE=compile running"
    TITLE %username%@%computername%:~/!LOCALTITLE!

    SET "NULLSTATIC=false"

    DEL "%SOURCEDIR%server_log.txt" /q >nul
    
    CALL :COMPILERS
    FINDSTR /i "error" %METADAT_FILE% >nul && echo. || CALL :GO_START

:GO_START
    TASKKILL /f /im "samp-server.exe" >nul 2>&1
    ECHO # Press any key to Start Server's . . .
    PAUSE >nul

:SERVERS
    START "" "samp-server.exe"
    TIMEOUT /t 2 >nul
    TASKLIST | FIND /i "samp-server.exe" >nul

    IF not exist samp-server.exe (
        ECHO # samp-server.exe not found..
        TIMEOUT /t 1 >nul
        START "" "https://sa-mp.app/"
        GOTO COMMAND_TYPEOF
    )

    IF ERRORLEVEL 1 (
        ECHO.
        ECHO # [%HH%:%MM%:%SS%] Starting.. no
        IF exist "server_log.txt" (
            TIMEOUT /t 2
            TYPE server_log.txt
        ) ELSE (
            ECHO # server_log.txt not found.
        )
        ECHO.
        <nul set /p=""
                    call :COLOURTEXT a "# End."
                    echo.
        GOTO COMMAND_TYPEOF
    ) ELSE (
        ECHO # [%HH%:%MM%:%SS%] Starting.. Done

        FINDSTR /i "failed" server_log.txt >nul && CALL :lax_TRUE || CALL :lax_FALSE

        :lax_TRUE
        <nul set /p=""
                    call :COLOURTEXT 4X "~"
                    echo    Failed? .. Yes .. True
                echo.
        CALL :FAIL_SERVERLOG
        
        GOTO :eof

        :lax_FALSE
                <nul set /p=""
                    call :COLOURTEXT a "~"
                    echo    Failed? .. No .. False
                echo.
        GOTO ENDOFALL
    )

:FAIL_SERVERLOG
    TIMEOUT /t 2
    ECHO.
    FINDSTR /i "failed" ^> server_log.txt
    ECHO.
    <nul set /p=""
            call :COLOURTEXT E6 "# End."
            echo.
    GOTO COMMAND_TYPEOF

) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -cls" (
    :CLEARS
    SET "LOCALTITLE=clear screen"
    TITLE %username%@%computername%:~/!LOCALTITLE!
    CLS
    GOTO MAINOFALL
    GOTO COMMAND_TYPEOF

) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -vsc" (
    SET "LOCALTITLE=vscode tasks"
    TITLE %username%@%computername%:~/!LOCALTITLE!
    IF exist ".vscode" (
        ECHO # [%HH%:%MM%:%SS%] A subdirectory or file .vscode already exists.
        GOTO ENDOFALL
    )
    MKDIR ".vscode"
    (
        ECHO {
        ECHO   "version": "2.0.0",
        ECHO   "tasks": [
        ECHO     {
        ECHO       "label": "Run lax",
        ECHO       "type": "shell",
        ECHO       "command": "${workspaceFolder}/%LIB_INLOC%",
        ECHO       "group": {
        ECHO           "kind": "build",
        ECHO           "isDefault": true
        ECHO       },
        ECHO       "problemMatcher": [],
        ECHO       "detail": "Task to run the batch file"
        ECHO     }
        ECHO   ]
        ECHO }
    ) > ".vscode\tasks.json"
    ECHO # [%HH%:%MM%:%SS%] Creating '.vscode\tasks.json'...: [yes]
    START explorer ".vscode\"
    GOTO ENDOFALL

)  ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -dg" (
    SET "LOCALTITLE=create simple pack"
    TITLE %username%@%computername%:~/!LOCALTITLE!

    IF exist filterscripts (
        echo.
        <nul set /p=""
            call :COLOURTEXT a "# filterscripts is .. Ok .."
            echo  [A subdirectory or file server.cfg already exists.]
            echo -
        timeout /t 2 >nul
    ) else (
        mkdir filterscripts
        ECHO # [%HH%:%MM%:%SS%] Creating '%SOURCEDIR%filterscripts'...: [yes]
        timeout /t 2 >nul
    )
    IF exist gamemodes (
        <nul set /p=""
            call :COLOURTEXT a "# gamemodes is .. Ok .."
            echo  [A subdirectory or file server.cfg already exists.]
            echo -
        timeout /t 2 >nul
    ) else (
        setlocal EnableDelayedExpansion
        mkdir gamemodes
        
        (
            ECHO #include ^<a_samp^>
            ECHO.
            ECHO main^(^) {
            ECHO     printf "Hello, World!";
            ECHO }
        ) > "gamemodes\main.lax.pwn"
        endlocal
        echo.
        ECHO # [%HH%:%MM%:%SS%] Creating '%SOURCEDIR%gamemodes'...: [yes]
        echo.
        timeout /t 2 >nul
    )
    IF exist scriptfiles (
        <nul set /p=""
            call :COLOURTEXT a "# scriptfiles is .. Ok .."
            echo  [A subdirectory or file server.cfg already exists.]
            echo -
        timeout /t 2 >nul
    ) else (
        mkdir scriptfiles
        ECHO # [%HH%:%MM%:%SS%] Creating '%SOURCEDIR%scriptfiles'...: [yes]
        timeout /t 2 >nul
    )
    IF exist server-readme.txt (
        <nul set /p=""
            call :COLOURTEXT a "# server readme is .. Ok .."
            echo  [A subdirectory or file server.cfg already exists.]
            echo -
        timeout /t 2 >nul
    ) else (
        (
            ECHO SA-MP 0.3 Server Setup
            ECHO ----------------------
            ECHO.
            ECHO Once the configuration is complete, run samp-server.exe to
            ECHO launch the server process.
            ECHO.
            ECHO CONFIGURATION:
            ECHO.
            ECHO Example server.cfg:
            ECHO     echo Executing Server Config...
            ECHO     maxplayers 32
            ECHO     port 7777
            ECHO     hostname Unnamed Server
            ECHO     announce 0
            ECHO     gamemode0 lvdm 1
            ECHO     gamemode1 rivershell 1
            ECHO     weburl www.sa-mp.com
            ECHO     rcon_password mypassword
            ECHO.
            ECHO To configure the server, you must edit the values in server.cfg. They are explained below:
            ECHO.
            ECHO hostname
            ECHO --------
            ECHO     Parameters:
            ECHO         string
            ECHO.
            ECHO     Description:
            ECHO         Specifies the hostname shown in the server browser
            ECHO.
            ECHO port
            ECHO ----
            ECHO     Parameters:
            ECHO         int
            ECHO.
            ECHO     Description:
            ECHO         Specifies the port to listen on.
            ECHO         This port is used for game connections, rcon connections, and for querying.
            ECHO.
            ECHO maxplayers
            ECHO ----------
            ECHO     Parameters:
            ECHO         int
            ECHO.
            ECHO     Description:
            ECHO         Specifies the maximum amount of players.
            ECHO.
            ECHO announce
            ECHO -------
            ECHO     Parameters:
            ECHO         int ^(0 or 1^)
            ECHO.
            ECHO     Description:
            ECHO         Announces your server to the 'Internet' server list in the SA:MP browser. On ^(1^) or Off ^(0^).
            ECHO.
            ECHO weburl
            ECHO ------
            ECHO     Parameters:
            ECHO         string
            ECHO.
            ECHO     Description:
            ECHO         Specifies the URL shown in the server browser, which is associated to the server.
            ECHO.
            ECHO rcon_password
            ECHO -------------
            ECHO     Parameters:
            ECHO         string
            ECHO.
            ECHO     Description:
            ECHO         Specifies the password needed to connect to rcon, or login to rcon ingame.
            ECHO.
            ECHO gamemode0 - gamemode15
            ECHO ----------------------
            ECHO     Parameters:
            ECHO         string
            ECHO         int
            ECHO.
            ECHO     Description:
            ECHO         Specifies the rotation settings. The first parameter sets the game mode name. The second is the number of times it will repeat.
            ECHO         You can use gamemode0 to specify the first gamemode, gamemode1 to specify the second, etc.
        ) > "server-readme.txt"
        echo.
        ECHO # [%HH%:%MM%:%SS%] Creating '%SOURCEDIR%server-readme.txt'...: [yes]
        echo.
    )
    IF exist server.cfg (
        <nul set /p=""
            call :COLOURTEXT a "# server.cfg is .. Ok .."
            echo  [A subdirectory or file server.cfg already exists.]
            echo.
    ) else (
        (
            ECHO echo Executing Server Config...
            ECHO lanmode 0
            ECHO rcon_password changename
            ECHO maxplayers 150
            ECHO port 7777
            ECHO hostname SA-MP 0.3 ^(Lax^)
            ECHO gamemode0 main 1
            ECHO filterscripts 
            ECHO announce 0
            ECHO chatlogging 0
            ECHO weburl www.sa-mp.com
            ECHO onfoot_rate 40
            ECHO incar_rate 40
            ECHO weapon_rate 40
            ECHO stream_distance 300.0
            ECHO stream_rate 1000
            ECHO maxnpc 0
            ECHO logtimeformat [%H:%M:%S]
            ECHO language English
        ) > "server.cfg"
        ECHO # [%HH%:%MM%:%SS%] Creating '%SOURCEDIR%server.cfg'...: [yes]
        echo.
        type server.cfg
        goto ENDOFALL
    )
) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -gitc" (
    SET "LOCALTITLE=git clone"
    TITLE %username%@%computername%:~/!LOCALTITLE!

    set /p URL="# [%HH%:%MM%:%SS%] Enter Repo URL: "
    if "!URL!"=="" (
        <nul set /p=""
            call :COLOURTEXT 4X "[#]~"
            echo ERR? .. Yes .. Url Required..
            echo.
    ) else (
        echo # Cloning repository from !URL!
        git clone !URL!
    )
) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -lax" (
    START "" "https://github.com/laterium/lax-code"
) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -pcc" (
    START "" "https://github.com/pawn-lang/compiler/releases"
) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -mpg" (
    START "" "https://sa-mp.app/"
) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -inc" (
    START "" "https://github.com/laterium/lax-code/blob/main/include/a_addon.inc"
) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% -dlax" (
    START "" "https://dsc.gg/evercool/"
) ELSE IF "%TYPEOF%"=="help" (
    SET "LOCALTITLE=help"
    TITLE %username%@%computername%:~/!LOCALTITLE!
    
    :_HELP
    ECHO usage: cat [-c compile] [-r running server] [-ci compile-running] [-vsc vscode tasks]
    ECHO       [-dg create gamemode pack ^& debugging gamemode] [-cls clear screen] [-gitc git clone] [-inc lax include+]
    ECHO       [-lax lax development] [-pcc pawncc release] [-mpg gamemode download]
    ECHO       [-dlax discord lax development support]
    GOTO COMMAND_TYPEOF

) ELSE IF "%TYPEOF%"=="cat" (
    SET "LOCALTITLE=cat"
    TITLE %username%@%computername%:~/!LOCALTITLE!
    GOTO _HELP
) ELSE IF "%TYPEOF%"=="" (
    GOTO COMMAND_TYPEOF
) ELSE IF "%TYPEOF%"==" " (
    GOTO COMMAND_TYPEOF
) ELSE IF "%TYPEOF%"=="%OPTIONTYPEOF% " (
    GOTO _HELP
) ELSE (
    echo '!TYPEOF!' is not recognized as an internal or external command,
    echo operable program or batch file.
    echo.
    goto _HELP
    GOTO COMMAND_TYPEOF
)

:ENDOFALL
ECHO # Press any key to return . . .
PAUSE >nul
GOTO COMMAND_TYPEOF

:COMPILERS
    ECHO # Starting at %time% ...
    FOR /r "%SOURCEDIR%" %%P in (pawncc.exe) DO (
        IF EXIST "%%P" (
            SET "_PAWNCC_=%%P"
            GOTO PAWNCC
        )
    )
    :PAWNCC
    IF not DEFINED _PAWNCC_ (
        ECHO.
            ECHO # [%HH%:%MM%:%SS%] pawncc not found in any subdirectories.
        ECHO.
        TIMEOUT /t 1 >nul
        START "" "https://github.com/pawn-lang/compiler/releases"
        GOTO COMMAND_TYPEOF
    )
    SET "SOURCEFILE=false"
    FOR /r "%SOURCEDIR%" %%F in (*.lax*) DO (
    IF EXIST "%%F" (
        SET "SOURCEFILE=true"
        
        ECHO *^(%%F^)
        ECHO.
        
        SET "AMX_O=%%~dpnF"
        SET "AMX_O=!AMX_O:.lax=!%.amx"

        "!_PAWNCC_!" "%%F" %ASM_OPTION_M%"!AMX_O!" %ASM_OPTION_P% > %METADAT_FILE% 2>&1
        TYPE %METADAT_FILE%

        IF EXIST "!AMX_O!" (
            FOR %%A IN ("!AMX_O!") DO (
                <nul set /p=""
                call :COLOURTEXT a "[#]~"
                echo Compilation finished at %time%..
                call :COLOURTEXT a "[#]~"
                echo Total Size [%%~zA / bytes] ^| "!AMX_O!" ^| "%ASM_OPTION_M% %ASM_OPTION_P%" 
            )
        ) ELSE (
                setlocal DisableDelayedExpansion 
                <nul set /p=""
                    call :COLOURTEXT 4X "[#]~"
                    echo Compilation failed!. ERR? .. Yes
                    endlocal
                    IF "%NULLSTATIC%"=="false" (
                        goto ENDOFALL
                    )
                echo.
            )
            ECHO.
        )
    )
    IF not "%SOURCEFILE%"=="true" (
       setlocal DisableDelayedExpansion 
        <nul set /p=""
                call :COLOURTEXT 4X "[#]~"
                echo Compilation failed!.
        endlocal
        ECHO    ~ "!SOURCEDIR!.lax" no files found.
    )
    IF "%NULLSTATIC%"=="true" (
        GOTO ENDOFALL
    )
